(()=>{var p=class{constructor(){this.splitTextElements=null,document.fonts.ready.then(()=>{this.splitText(),this.charsFlicker()})}splitText(){let t="[data-split-text='true'] :is(h1, h2), h2[data-split-text='true']";this.splitTextElements=SplitText.create(t,{type:"chars",tag:"span",charsClass:"char",smartWrap:!0})}charsFlicker(){if(!this.splitTextElements)return;document.querySelectorAll("[data-text-anim='chars-flicker']").forEach(e=>{let i=e.querySelectorAll(".char");i.length!==0&&gsap.from(i,{scrollTrigger:{trigger:e,start:"top 90%"},opacity:0,duration:.5,ease:"expo.inOut",stagger:{amount:.25,from:"random"}})})}};var u=()=>window.innerWidth<480,c=()=>window.innerWidth<768;var d=class{constructor(){this.setUp(),this.handleMouse(),this.handleKey(),this.mobileProgBlurAppear(),this.menuVideoPlay(),document.body.dataset.page==="home"&&(this.navHideUnhide(),this.handleScroll())}setUp(){this.navWrap=document.querySelector(".nav_wrap"),this.overlay=this.navWrap.querySelector(".nav_overlay"),this.menu=this.navWrap.querySelector(".nav_menu_wrap"),this.menuBtn=this.navWrap.querySelector(".nav_btn_wrap"),this.menuBtnDots=this.menuBtn.querySelector(".nav_btn_dots"),this.menuBg=this.menu.querySelectorAll(".nav_menu_bg"),this.menuVisual=this.menu.querySelector(".nav_menu_visual"),this.menuList=this.menu.querySelector(".nav_menu_list"),this.menuLinks=this.menu.querySelectorAll(".nav_menu_item"),this.menuSocialItems=this.menu.querySelectorAll(".nav_social_item"),this.menuBtnText=this.menuBtn.querySelector(".nav_btn_text"),this.start=[{cx:1.41176,cy:1.41176},{cx:7.99966,cy:1.41176},{cx:14.5885,cy:1.41176},{cx:1.41176,cy:8.00004},{cx:7.99966,cy:8.00004},{cx:14.5885,cy:8.00004},{cx:1.41176,cy:14.5883},{cx:7.99966,cy:14.5883},{cx:14.5885,cy:14.5883}],this.end=[{cx:1.41176,cy:1.41176},{cx:4.41176,cy:4.41176},{cx:14.5885,cy:1.41176},{cx:4.41176,cy:11.4118},{cx:7.99966,cy:8.00004},{cx:11.4118,cy:4.41176},{cx:1.41176,cy:14.5883},{cx:11.4118,cy:11.4118},{cx:14.5885,cy:14.5883}],this.tl=gsap.timeline({defaults:{ease:"expo.inOut",duration:1.25}}),u()&&this.menuList.querySelectorAll(".nav_menu_text").forEach(t=>{t.classList.remove("u-text-style-display"),t.style.fontSize="3rem"})}openNav(){this.menu.setAttribute("data-menu","open"),window.lenis.stop(),this.animateDots(this.end),this.tl.clear().set(this.overlay,{display:"block"},"<").fromTo(this.overlay,{autoAlpha:0},{autoAlpha:1}).set(this.menu,{display:"flex",clipPath:"inset(0% 0% 0% 0%)"},"<+0.15").fromTo(this.menuBg,{yPercent:-101},{yPercent:0,duration:1.25,stagger:.15},"<").fromTo(this.menuVisual,{opacity:0},{opacity:1},"<+=0.6").to(this.menuBtnText,{scrambleText:{text:"Close",chars:"Think Studio",speed:.7},duration:.4,delay:.2},"<-=0.8").fromTo(this.menuList,{autoAlpha:0},{autoAlpha:1,duration:.5},"<+=0.35").fromTo(this.menuLinks,{yPercent:u()?120:240,autoAlpha:0,rotate:4},{yPercent:0,rotate:0,autoAlpha:1,stagger:.05},"<-0.2").fromTo(this.menuSocialItems,{yPercent:140,autoAlpha:0},{yPercent:0,autoAlpha:1},"<")}closeNav(){this.menu.setAttribute("data-menu","close"),window.lenis.start(),this.animateDots(this.start),this.tl.clear().fromTo(this.menu,{clipPath:"inset(0% 0% 0% 0%)"},{clipPath:"inset(0% 0% 100% 0%)"}).fromTo(this.menuVisual,{opacity:1},{opacity:0},"<+=0.15").fromTo(this.menuList,{autoAlpha:1},{autoAlpha:0,duration:.5},"<+=0.15").to(this.menuBtnText,{scrambleText:{text:"Menu",chars:"Think Studio",speed:.7},duration:.4,delay:.2},"<").to(this.overlay,{autoAlpha:0,duration:.55},"<-=0.2").set(this.menu,{display:"none"})}animateDots(t){this.menuBtnDots.querySelectorAll("circle").forEach((e,i)=>{gsap.to(e,{duration:.5,delay:.2,attr:{cx:t[i].cx,cy:t[i].cy},ease:"power2.inOut"})})}handleMouse(){this.menuBtn.addEventListener("mouseenter",()=>{gsap.to(this.menuBtnDots,{rotate:90,ease:"expo.inOut",duration:.7})}),this.menuBtn.addEventListener("mouseleave",()=>{gsap.to(this.menuBtnDots,{rotate:0,ease:"expo.inOut",duration:.7})}),this.menuBtn.addEventListener("click",()=>{this.menu.getAttribute("data-menu")==="close"?this.openNav():this.closeNav()});let t=this.menu.querySelectorAll(".nav_menu_words_wrap")}handleKey(){document.addEventListener("keydown",t=>{let e=this.menu.getAttribute("data-menu");t.key==="Escape"&&e==="open"&&this.closeNav()})}menuVideoPlay(){if(c())return;let t=this.menu.querySelectorAll("[data-menu-video]"),e=this.menuList.querySelectorAll("[data-menu-link]"),i=null;t.forEach(r=>{let a=r.querySelector("video");a&&(a.pause(),r.style.opacity="0")}),e.forEach(r=>{let a=r.getAttribute("data-menu-link");r.addEventListener("mouseenter",()=>{let s=Array.from(t).find(o=>o.getAttribute("data-menu-video")===a);if(s){let o=s.querySelector("video");if(i){i.style.opacity="0";let l=i.querySelector("video");l&&l.pause()}s.style.opacity="1",o&&(o.currentTime=0,o.play().catch(l=>console.log("Video play error:",l))),i=s}}),r.addEventListener("mouseleave",()=>{if(i){i.style.opacity="0";let s=i.querySelector("video");s&&s.pause(),i=null}})})}mobileProgBlurAppear(){let t=this.navWrap.querySelector(".nav_mobile_blur");!t||!c()||gsap.to(t,{scrollTrigger:{trigger:this.navWrap,start:"top top",end:"top top-=100",toggleActions:"play none reverse none"},opacity:1})}handleScroll(){if(c())return;let t=document.querySelector(".nav_btn_wrap");window.addEventListener("scroll",()=>{window.scrollY>window.innerHeight*.3?(t.style.right=0,t.style.top=0):(t.style.right="-1rem",t.style.top="-1rem")})}navHideUnhide(){let t=document.querySelector(".nav_wrap"),i=t.querySelector(".nav_contain").children,r=gsap.timeline({paused:!0,defaults:{ease:"power3.inOut",duration:.3}});r.to(i,{y:-10,stagger:.3}).to(t,{autoAlpha:0},"<"),ScrollTrigger.create({trigger:".real_wrap",start:"top center",onEnter:()=>r.play(),onLeaveBack:()=>r.reverse()}),ScrollTrigger.create({trigger:".work_wrap",start:"top 30%",onEnter:()=>r.reverse(),onLeaveBack:()=>r.play()})}};var m=class{constructor(){gsap.registerPlugin(ScrollTrigger,Flip),this.wrapperElements=document.querySelectorAll("[data-flip-element='wrapper']"),this.targetEl=document.querySelector("[data-flip-element='target']"),this.tl=null,this.resizeTimer=null,this.init()}flipTimeline(){this.tl&&(this.tl.kill(),gsap.set(this.targetEl,{clearProps:"all"})),this.tl=gsap.timeline({scrollTrigger:{trigger:".hero_primary_wrap",start:"top top",endTrigger:this.wrapperElements[this.wrapperElements.length-1],end:"center 42%",scrub:!0}}),this.wrapperElements.forEach((t,e)=>{if(this.wrapperElements[e+1]){let i=this.wrapperElements[e+1],r=i.getBoundingClientRect(),a=t.getBoundingClientRect(),s=r.top+window.scrollY+i.clientHeight/2,o=a.top+window.scrollY+t.clientHeight/2,l=s-o;this.tl.add(Flip.fit(this.targetEl,i,{duration:l,ease:"none"}))}})}handleResize(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.flipTimeline()},100)}init(){this.flipTimeline(),window.addEventListener("resize",this.handleResize.bind(this))}};var T="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch,A=T;var g=class{constructor(){this.root=document.querySelector(".real_wrap"),this.root&&(this.sentences=this.root.querySelectorAll(".real_sticky_text"),this.imageHolder=this.root.querySelector(".real_image_contain"),this.workWrap=this.root.querySelector(".work_wrap"),this.workList=this.workWrap.querySelector(".work_list"),this.workItems=this.workList.querySelectorAll(".work_list_item"),this.textAnimationOpacity(),this.parallaxImage(),this.stickyWork(),this.mouseMove())}textAnimationOpacity(){SplitText.create(this.sentences,{type:"chars",tag:"span",charsClass:"char"}),gsap.set([this.root.querySelectorAll(".char")],{opacity:0,filter:"blur(5px)"}),gsap.set(".real_sticky_text",{opacity:1});let t=gsap.timeline({defaults:{stagger:{each:.03,from:"start"}},scrollTrigger:{trigger:this.imageHolder,start:"top bottom",end:"bottom bottom-=80%",scrub:!0,invalidateOnRefresh:!0}}).to(this.sentences[0].querySelectorAll(".char"),{opacity:1,filter:"blur(0px)"}).to(this.sentences[0].querySelectorAll(".char"),{opacity:0,filter:"blur(5px)"}).to(".real_sticky_bg_dark",{autoAlpha:0,duration:.05},"-=0.2").to(".real_sticky_bg_grad",{autoAlpha:0,duration:.05},"<").to(this.sentences[1].querySelectorAll(".char"),{opacity:1,filter:"blur(0px)"},"-=0.2").to(this.sentences[1].querySelectorAll(".char"),{opacity:0,filter:"blur(5px)"})}stickyWork(){!this.workWrap||!this.workList||!this.workItems.length||(this.workItems.forEach((t,e)=>{this.workItems[e+1]&&gsap.to(t,{opacity:0,yPercent:-10,scale:u()?.8:.7,ease:"none",scrollTrigger:{trigger:t,start:u()?"top 5vh":"top 10vh",scrub:!0,invalidateOnRefresh:!0}})}),gsap.to(".real_sticky_bg_white",{autoAlpha:0,duration:.25,ease:"none",scrollTrigger:{trigger:".work_btn-wrap",start:"top bottom",toggleActions:"play none none reverse"}}))}parallaxImage(){let t=this.imageHolder.querySelectorAll("[data-parallax-speed]");this.items=this.items||[],t.forEach(e=>{let i=this.items.find(a=>a.img===e);i||(i={img:e,parallaxY:0,mouseX:0,mouseY:0},this.items.push(i));let r=parseFloat(e.getAttribute("data-parallax-speed"))||0;gsap.to(i,{parallaxY:()=>-(window.innerHeight*r),ease:"none",overwrite:"false",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.5,invalidateOnRefresh:!0},onUpdate:()=>{this.updateImageTransform(i)}})})}mouseMove(){if(A||c())return;let t=this.imageHolder.querySelectorAll(".real_image_holder");this.items=this.items||[];let e=1/0,i=-1/0;t.forEach(r=>{let a=r.getBoundingClientRect(),s=a.width*a.height,o=this.items.find(l=>l.img===r);o||(o={img:r,parallaxY:0,mouseX:0,mouseY:0},this.items.push(o)),o.area=s,s<e&&(e=s),s>i&&(i=s)}),this.items.forEach(r=>{r.area!==void 0&&(r.speed=(i-r.area)/(i-e)*(2.5-.3)+.3)}),this.imageHolder.addEventListener("mousemove",r=>{let a=window.innerWidth,s=window.innerHeight,o=r.clientX/a-.5,l=r.clientY/s-.5;this.items.forEach(h=>{h.speed!==void 0&&(h.mouseX=o*h.speed*50,h.mouseY=l*h.speed*50,this.updateImageTransform(h))})})}updateImageTransform(t){gsap.set(t.img,{x:t.mouseX||0,y:(t.parallaxY||0)+(t.mouseY||0)})}};var f=class{constructor(t){this.rootElement=t||document,this.videos=this.rootElement.querySelectorAll("[data-video-on-enter]"),this.videos.length&&this.init()}init(){this.videos.forEach(t=>{let e=t.querySelector("video");e&&ScrollTrigger.create({trigger:t,start:"top bottom",end:"center top",onEnter:()=>e.play(),onEnterBack:()=>e.play(),onLeave:()=>e.pause(),onLeaveBack:()=>e.pause()})})}};var y=class{constructor(){this.marquee=document.querySelector("[data-marquee='wrap']"),this.marquee&&(this.marqueeInner=this.marquee.querySelector("[data-marquee='list']"),this.animation=null,this.gap=parseFloat(getComputedStyle(this.marquee).gap)||0,this.direction=this.marquee.getAttribute("data-marquee-direction")||"left",this.duration=parseFloat(this.marquee.getAttribute("data-marquee-duration"))||2,this.updateDimensions(),this.setup(),this.animate(),this.resizeObserve=new ResizeObserver(this.handleResize.bind(this)),this.resizeObserve.observe(this.marquee))}updateDimensions(){this.marqueeWidth=this.marquee.offsetWidth,this.marqueeInnerWidth=this.marqueeInner.offsetWidth}setup(){let t=Math.ceil(this.marqueeWidth/this.marqueeInnerWidth);this.wrapper&&this.wrapper.remove(),this.wrapper=document.createElement("div"),this.wrapper.style.display="flex",this.wrapper.style.gap=`${this.gap}px`,this.wrapper.setAttribute("aria-label","List of elements in marquee"),this.direction==="right"&&(this.wrapper.style.flexDirection="row-reverse"),this.marqueeInner.parentElement!==this.wrapper&&(this.marqueeInner.remove(),this.wrapper.appendChild(this.marqueeInner));for(let e=0;e<t;e++){let i=this.marqueeInner.cloneNode(!0);this.wrapper.appendChild(i)}this.marquee.appendChild(this.wrapper)}animate(){let t=this.marqueeInnerWidth+this.gap,e=this.direction==="left"?-1:1;this.animation=gsap.to(this.wrapper,{x:e*t,repeat:-1,duration:this.duration,ease:"none",onRepeat:()=>{gsap.set(this.wrapper,{x:0})}})}handleResize(){this.updateDimensions(),this.animation&&this.animation.kill(),this.setup(),this.animate()}};var w=class{constructor(){this.element=document.querySelector(".contact_time"),console.log("working"),this.element&&(this.updateTime(),this.start())}formatTime(t){return t.toLocaleTimeString("en-AU",{timeZone:"Australia/Sydney",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}updateTime(){let t=new Date;this.element.textContent=this.formatTime(t)+" [SYDNEY]"}start(){this.interval=setInterval(()=>this.updateTime(),1e3)}stop(){clearInterval(this.interval)}};var v=class{constructor(){this.wrap=document.querySelector(".case_expand_text_wrap"),this.button=this.wrap?.querySelector(".case_expand_button"),this.para=this.wrap?.querySelector(".case_expand_lower"),this.init()}getContentHeight(){this.para.style.height="auto";let t=this.para.offsetHeight;return this.para.style.height="",t}animatePara({height:t,autoAlpha:e,filter:i,expanded:r}){gsap.to(this.para,{height:t,autoAlpha:e,filter:i,duration:.3,ease:"power2.inOut",onComplete:()=>{r&&(this.para.style.height="auto"),this.forceRefresh(),this.animateButton(r),this.animateSvg(r?45:0)}})}animateButton(t){gsap.to(this.button.querySelector(".case_expand_btn_text"),{scrambleText:{text:t?"Read Less":"Read More",chars:"upperCase",speed:.7},duration:.4})}animateSvg(t){gsap.to(this.wrap.querySelector(".case_expand_svg"),{rotate:t,duration:.4,ease:"expo.inOut"})}expand(){this.para.getAttribute("data-expanded")==="false"&&(gsap.set(this.para,{height:"0px",autoAlpha:0,filter:"blur(5px)"}),this.para.setAttribute("data-expanded","true"),this.animatePara({height:this.getContentHeight(),autoAlpha:1,filter:"blur(0px)",expanded:!0}))}collapse(){this.para.getAttribute("data-expanded")==="true"&&(this.para.setAttribute("data-expanded","false"),this.animatePara({height:0,autoAlpha:0,filter:"blur(5px)",expanded:!1}))}toggle(){this.para.getAttribute("data-expanded")==="true"?this.collapse():this.expand()}mouseHover(){let t=this.button.querySelector(".case_expand_svg");this.button.addEventListener("mouseenter",()=>{gsap.to(t,{rotate:90,ease:"expo.inOut",duration:.8}),gsap.to(this.button,{opacity:.9,duration:.3},"<")}),this.button.addEventListener("mouseleave",()=>{let e=this.para.getAttribute("data-expanded")==="true"?45:0;gsap.to(t,{rotate:e,ease:"expo.inOut",duration:.8}),gsap.to(this.button,{opacity:1,duration:.3},"<")})}init(){!this.button||!this.para||(this.button.addEventListener("click",()=>this.toggle()),this.mouseHover())}forceRefresh(){window.dispatchEvent(new Event("resize")),window.ScrollTrigger?.refresh&&window.ScrollTrigger.refresh(),window.lenis?.resize&&window.lenis.resize()}};var x=class{constructor(){this.root=document,this.lines=this.root.querySelectorAll("[data-reveal='line']"),this.images=this.root.querySelectorAll("[data-reveal='image']"),this.init()}linesAnimation(){this.lines.forEach(t=>{gsap.set(t,{transformOrigin:"left center"}),gsap.fromTo(t,{scaleX:0},{scaleX:1,duration:.8,ease:"power2.out",scrollTrigger:{trigger:t,start:"top 80%",once:!0}})})}imagesAnimation(){this.images.forEach(t=>{gsap.set(t,{transformOrigin:"center center"}),gsap.fromTo(t,{scale:.99,opacity:0},{scale:1,opacity:1,duration:.6,stagger:.3,ease:"power2.out",scrollTrigger:{trigger:t,start:"top 90%",once:!0}})})}heroScale(){let t=this.root.querySelector(".case_hero_video_wrap");t&&gsap.to(t,{scale:.93,ease:"linear",duration:.6,opacity:.5,scrollTrigger:{trigger:t,start:"center top",end:"bottom top",scrub:!0,invalidateOnRefresh:!0,toggleActions:"play reverse play reverse"}})}tagsReveal(){let t=this.root.querySelectorAll(".case_tags_item");t.length&&gsap.fromTo(t,{autoAlpha:0,y:20},{autoAlpha:1,y:0,duration:.6,stagger:.05,ease:"power2.out",scrollTrigger:{trigger:t,start:"top 90%",once:!0}})}init(){this.lines.length&&this.linesAnimation(),this.images.length&&this.imagesAnimation(),this.heroScale(),this.tagsReveal()}};function q(){window.lenis=new window.Lenis({lerp:.135,wheelMultiplier:1.05}),window.lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(t=>{window.lenis.raf(t*1e3)}),gsap.ticker.lagSmoothing(0);function n(t){window.lenis.raf(t),requestAnimationFrame(n)}return requestAnimationFrame(n),window.lenis}function _(){document.addEventListener("contextmenu",function(n){let t=n.target.tagName.toLowerCase();(t==="img"||t==="video")&&n.preventDefault()}),document.addEventListener("dragstart",function(n){n.target.tagName.toLowerCase()==="img"&&n.preventDefault()})}var S=class{constructor(){this.root=document,this.pageLoad=this.root.querySelector(".page_load"),this.gridAnimation()}setGrid(){return new Promise(t=>{let e=c()?5:12,i=window.innerWidth/e,r=Math.ceil(window.innerHeight/i);this.pageLoad.style.gridTemplateRows=`repeat(${r}, ${i}px)`;let a=e*r;this.pageLoad.innerHTML="";for(let s=0;s<a;s++){let o=document.createElement("div");o.classList.add("load_block"),this.pageLoad.appendChild(o)}t()})}gridAnimation(){let t=this.pageLoad.getAttribute("data-duration")||.001,e=this.pageLoad.getAttribute("data-amount")||.5,i=this.pageLoad.getAttribute("data-from")||"random";gsap.to(".load_block",{opacity:0,duration:t,stagger:{amount:e,from:i},onComplete:()=>{gsap.set(this.pageLoad,{display:"none"})}}),Array.from(document.querySelectorAll("a")).filter(a=>{let s=a.getAttribute("href")||"";return a.hostname===window.location.hostname&&!s.startsWith("#")&&a.getAttribute("target")!=="_blank"&&!a.hasAttribute("data-transition-prevent")}).forEach(a=>{a.addEventListener("click",s=>{s.preventDefault();let o=a.getAttribute("href");!o||o==="#"||o.startsWith("mailto:")||(gsap.set(this.pageLoad,{display:"grid"}),gsap.to(".load_block",{opacity:1,duration:t,stagger:{amount:e,from:i},onComplete:()=>{window.location.href=o}}))})}),window.addEventListener("pageshow",a=>{a.persisted&&window.location.reload()}),window.addEventListener("resize",this.setGrid.bind(this))}};var b=class{constructor(){this.nav=null,this.pageTransition=null,this.heroScale=null,this.realStory=null,this.services=null,this.videoEnter=null,this.marquee=null,this.timeAU=null,this.expandSection=null}init(){q(),_(),this.nav=new d,this.pageTransition=new S,this.videoEnter=new f,this.textAnimations=new p,document.body.dataset.page==="home"&&(this.heroScale=new m,this.realStory=new g,this.marquee=new y),document.body.dataset.page==="contact"&&(this.timeAU=new w),document.body.dataset.page==="work-detailed"&&(this.expandSection=new v,this.workReveal=new x)}start(){document.fonts.ready.then(()=>{this.init()})}};window.addEventListener("DOMContentLoaded",()=>{new b().start()});})();
