(()=>{var n=()=>window.innerWidth<480;var u=class{constructor(){console.log("hero class init"),this.wrapper=document.querySelector(".hero_primary_video_wrap"),this.videoHolder=this.wrapper.querySelector(".hero_primary_video_holder"),this.scaleDown(),this.handleResize()}scaleDown(){if(!gsap||!ScrollTrigger){console.error("GSAP or ScrollTrigger not loaded");return}this.originalHeight=this.wrapper.offsetHeight,gsap.to(this.videoHolder,{scrollTrigger:{trigger:this.wrapper,start:"top top",end:n()?"bottom 40%":"bottom 65%",scrub:!0,pin:!0,anticipatePin:1},width:n()?"60vw":"32vw",height:n()?"60vw":"32vw",top:"10rem",left:n()?"0.25rem":"1.75rem",ease:"power1.inOut"})}handleResize(){window.addEventListener("resize",()=>{this.originalHeight=this.wrapper.offsetHeight,ScrollTrigger.refresh()})}};var m=class{constructor(){this.setUp(),this.handleMouse(),this.handleKey(),this.menuVideoPlay()}setUp(){this.navWrap=document.querySelector(".nav_wrap"),this.overlay=this.navWrap.querySelector(".nav_overlay"),this.menu=this.navWrap.querySelector(".nav_menu_wrap"),this.menuBtn=this.navWrap.querySelector(".nav_btn_wrap"),this.menuBtnDots=this.menuBtn.querySelector(".nav_btn_dots"),this.menuBg=this.menu.querySelectorAll(".nav_menu_bg"),this.menuList=this.menu.querySelector(".nav_menu_list"),this.menuLinks=this.menu.querySelectorAll(".nav_menu_item_link"),this.menuSocialItems=this.menu.querySelectorAll(".nav_social_item"),this.menuBtnTexts=this.menuBtn.querySelectorAll(".nav_btn_text"),this.start=[{cx:1.41176,cy:1.41176},{cx:7.99966,cy:1.41176},{cx:14.5885,cy:1.41176},{cx:1.41176,cy:8.00004},{cx:7.99966,cy:8.00004},{cx:14.5885,cy:8.00004},{cx:1.41176,cy:14.5883},{cx:7.99966,cy:14.5883},{cx:14.5885,cy:14.5883}],this.end=[{cx:1.41176,cy:1.41176},{cx:4.41176,cy:4.41176},{cx:14.5885,cy:1.41176},{cx:4.41176,cy:11.4118},{cx:7.99966,cy:8.00004},{cx:11.4118,cy:4.41176},{cx:1.41176,cy:14.5883},{cx:11.4118,cy:11.4118},{cx:14.5885,cy:14.5883}],this.tl=gsap.timeline({defaults:{ease:"expo.inOut",duration:1.25}}),n()&&this.menuList.querySelectorAll(".nav_menu_text").forEach(e=>{e.classList.remove("u-text-style-display"),e.style.fontSize="3rem"})}openNav(){this.menu.setAttribute("data-menu","open"),window.lenis.stop(),this.animateDots(this.end),this.tl.clear().set(this.overlay,{display:"block"},"<").fromTo(this.overlay,{autoAlpha:0},{autoAlpha:1,duration:.6}).set(this.menu,{display:"flex",clipPath:"inset(0% 0% 0% 0%)"},"<+0.15").fromTo(this.menuBg,{yPercent:-101},{yPercent:0,duration:.85,stagger:.1},"<").fromTo(this.menuBg[1].querySelector("img"),{scale:2,autoAlpha:0},{scale:1,autoAlpha:1},"<").fromTo(this.menu.querySelector(".nav_menu_bg_patterns"),{scale:1.2,y:"3rem",x:n()?0:"-10rem",rotate:3,autoAlpha:0},{scale:1,y:"0rem",x:"0rem",rotate:0,autoAlpha:1,duration:1.5,ease:"power2.inOut"},"<").fromTo(this.menuBtnTexts,{yPercent:0},{yPercent:-100,duration:.75},"0.25").fromTo(this.menuList,{autoAlpha:0},{autoAlpha:1,duration:.5},"<+=0.35").fromTo(this.menuLinks,{yPercent:n()?120:140,autoAlpha:0,rotate:4},{yPercent:0,rotate:0,autoAlpha:1,stagger:.05},"<-0.2").fromTo(this.menuSocialItems,{yPercent:140,autoAlpha:0},{yPercent:0,autoAlpha:1},"<")}closeNav(){this.menu.setAttribute("data-menu","close"),window.lenis.start(),this.animateDots(this.start),this.tl.clear().fromTo(this.menu,{clipPath:"inset(0% 0% 0% 0%)"},{clipPath:"inset(0% 0% 100% 0%)",duration:1}).fromTo(this.menuBg[1].querySelector("img"),{scale:1,autoAlpha:1},{scale:2,autoAlpha:0},"<").fromTo(this.menuList,{autoAlpha:1},{autoAlpha:0,duration:.5},"<+=0.15").to(this.menuBtnTexts,{yPercent:0,duration:.75},"0.25").to(this.overlay,{autoAlpha:0,duration:.55},"<+=0.35").set(this.menu,{display:"none"})}animateDots(e){this.menuBtnDots.querySelectorAll("circle").forEach((r,o)=>{gsap.to(r,{duration:.5,attr:{cx:e[o].cx,cy:e[o].cy},ease:"power2.inOut"})})}handleMouse(){let e=!1;this.menuBtn.addEventListener("mouseenter",()=>{gsap.to(this.menuBtnDots,{rotate:e?180:-180,ease:"expo.inOut",duration:.7}),e=!e}),this.menuBtn.addEventListener("click",()=>{this.menu.getAttribute("data-menu")==="close"?this.openNav():this.closeNav()})}handleKey(){document.addEventListener("keydown",e=>{let r=this.menu.getAttribute("data-menu");e.key==="Escape"&&r==="open"&&this.closeNav()})}menuVideoPlay(){let e=this.menu.querySelectorAll("[data-menu-video]"),r=this.menuList.querySelectorAll("[data-menu-link]"),o=null;e.forEach(i=>{let s=i.querySelector("video");s&&(s.pause(),i.style.opacity="0")}),r.forEach(i=>{let s=i.getAttribute("data-menu-link");i.addEventListener("mouseenter",()=>{let l=Array.from(e).find(a=>a.getAttribute("data-menu-video")===s);if(l){let a=l.querySelector("video");if(o){o.style.opacity="0";let c=o.querySelector("video");c&&c.pause()}l.style.opacity="1",a&&(a.currentTime=0,a.play().catch(c=>console.log("Video play error:",c))),o=l}})}),this.menuList.addEventListener("mouseleave",()=>{if(o){o.style.opacity="0";let i=o.querySelector("video");i&&i.pause(),o=null}})}handleScroll(){let e=document.querySelector(".nav_logo_wrap");window.addEventListener("scroll",()=>{window.scrollY>window.innerHeight*.9?e.classList.add("is-normal"):e.classList.remove("is-normal")})}};function d(){window.lenis=new window.Lenis;function t(e){window.lenis.raf(e),requestAnimationFrame(t)}return requestAnimationFrame(t),window.lenis}function p(){document.addEventListener("contextmenu",function(t){let e=t.target.tagName.toLowerCase();(e==="img"||e==="video")&&t.preventDefault()}),document.addEventListener("dragstart",function(t){t.target.tagName.toLowerCase()==="img"&&t.preventDefault()})}var h=class{constructor(){new u,new m}};window.addEventListener("DOMContentLoaded",()=>{d(),p(),new h});})();
