(()=>{var h=class{constructor(){this.splitTextElements=null,document.fonts.ready.then(()=>{this.splitText(),this.charsFlicker()})}splitText(){let e="[data-split-text='true'] :is(h1, h2), h2[data-split-text='true']";this.splitTextElements=SplitText.create(e,{type:"chars,words",tag:"span",charsClass:"char",wordsClass:"word",smartWrap:!0})}charsFlicker(){if(!this.splitTextElements)return;document.querySelectorAll("[data-text-anim='chars-flicker']").forEach(i=>{let t=i.querySelectorAll(".char");t.length!==0&&gsap.from(t,{scrollTrigger:{trigger:i,start:"top 90%",toggleActions:"play none none reverse"},opacity:0,duration:.5,ease:"expo.inOut",stagger:{amount:.25,from:"random"}})})}wordsStagger(){if(!this.splitTextElements)return;document.querySelectorAll("[data-text-anim='words-stagger']").forEach(i=>{let t=i.querySelectorAll(".word");console.log(t),t.length!==0&&gsap.from(t,{scrollTrigger:{trigger:i,start:"top 80%",toggleActions:"play none none reverse"},yPercent:100,duration:.5,ease:"expo.inOut",stagger:.01})})}};var o=()=>window.innerWidth<480;var x="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch,f=x;var u=class{constructor(){this.setUp(),this.handleMouse(),this.handleKey(),(!o()||!f)&&this.menuVideoPlay()}setUp(){this.navWrap=document.querySelector(".nav_wrap"),this.overlay=this.navWrap.querySelector(".nav_overlay"),this.menu=this.navWrap.querySelector(".nav_menu_wrap"),this.menuBtn=this.navWrap.querySelector(".nav_btn_wrap"),this.menuBtnDots=this.menuBtn.querySelector(".nav_btn_dots"),this.menuBg=this.menu.querySelectorAll(".nav_menu_bg"),this.menuList=this.menu.querySelector(".nav_menu_list"),this.menuLinks=this.menu.querySelectorAll(".nav_menu_item"),this.menuSocialItems=this.menu.querySelectorAll(".nav_social_item"),this.menuBtnTexts=this.menuBtn.querySelectorAll(".nav_btn_text"),this.start=[{cx:1.41176,cy:1.41176},{cx:7.99966,cy:1.41176},{cx:14.5885,cy:1.41176},{cx:1.41176,cy:8.00004},{cx:7.99966,cy:8.00004},{cx:14.5885,cy:8.00004},{cx:1.41176,cy:14.5883},{cx:7.99966,cy:14.5883},{cx:14.5885,cy:14.5883}],this.end=[{cx:1.41176,cy:1.41176},{cx:4.41176,cy:4.41176},{cx:14.5885,cy:1.41176},{cx:4.41176,cy:11.4118},{cx:7.99966,cy:8.00004},{cx:11.4118,cy:4.41176},{cx:1.41176,cy:14.5883},{cx:11.4118,cy:11.4118},{cx:14.5885,cy:14.5883}],this.tl=gsap.timeline({defaults:{ease:"expo.inOut",duration:1.25}}),o()&&this.menuList.querySelectorAll(".nav_menu_text").forEach(e=>{e.classList.remove("u-text-style-display"),e.style.fontSize="3rem"})}openNav(){this.menu.setAttribute("data-menu","open"),window.lenis.stop(),this.animateDots(this.end),this.tl.clear().set(this.overlay,{display:"block"},"<").fromTo(this.overlay,{autoAlpha:0},{autoAlpha:1,duration:.6}).set(this.menu,{display:"flex",clipPath:"inset(0% 0% 0% 0%)"},"<+0.15").fromTo(this.menuBg,{yPercent:-101},{yPercent:0,duration:.85,stagger:.1},"<").fromTo(this.menuBtnTexts,{yPercent:0},{yPercent:-100,duration:.75},"<").fromTo(this.menuList,{autoAlpha:0},{autoAlpha:1,duration:.5},"<+=0.35").fromTo(this.menuLinks,{yPercent:o()?120:240,autoAlpha:0,rotate:4},{yPercent:0,rotate:0,autoAlpha:1,stagger:.05},"<-0.2").fromTo(this.menuSocialItems,{yPercent:140,autoAlpha:0},{yPercent:0,autoAlpha:1},"<")}closeNav(){this.menu.setAttribute("data-menu","close"),window.lenis.start(),this.animateDots(this.start),this.tl.clear().fromTo(this.menu,{clipPath:"inset(0% 0% 0% 0%)"},{clipPath:"inset(0% 0% 100% 0%)",duration:1}).fromTo(this.menuList,{autoAlpha:1},{autoAlpha:0,duration:.5},"<+=0.15").to(this.menuBtnTexts,{yPercent:0,duration:.75},"<").to(this.overlay,{autoAlpha:0,duration:.55},"<+=0.35").set(this.menu,{display:"none"})}animateDots(e){this.menuBtnDots.querySelectorAll("circle").forEach((i,t)=>{gsap.to(i,{duration:.5,delay:.2,attr:{cx:e[t].cx,cy:e[t].cy},ease:"power2.inOut"})})}handleMouse(){this.menuBtn.addEventListener("mouseenter",()=>{gsap.to(this.menuBtnDots,{rotate:90,ease:"expo.inOut",duration:.7})}),this.menuBtn.addEventListener("mouseleave",()=>{gsap.to(this.menuBtnDots,{rotate:0,ease:"expo.inOut",duration:.7})}),this.menuBtn.addEventListener("click",()=>{this.menu.getAttribute("data-menu")==="close"?this.openNav():this.closeNav()}),this.menu.querySelectorAll(".nav_menu_item_wrap").forEach((e,i)=>{let t=e.querySelector(".nav_menu_item"),s=i===this.menu.querySelectorAll(".nav_menu_item_wrap").length-1;!t||f||o()||(e.addEventListener("mouseenter",()=>{gsap.to(t,{x:s?"-2%":"2%",duration:.2,ease:"power2.inOut"})}),e.addEventListener("mouseleave",()=>{gsap.to(t,{x:"0%",duration:.2,ease:"power2.inOut"})}))})}handleKey(){document.addEventListener("keydown",e=>{let i=this.menu.getAttribute("data-menu");e.key==="Escape"&&i==="open"&&this.closeNav()})}menuVideoPlay(){let e=this.menu.querySelectorAll("[data-menu-video]"),i=this.menuList.querySelectorAll("[data-menu-link]"),t=null;e.forEach(s=>{let n=s.querySelector("video");n&&(n.pause(),s.style.opacity="0")}),i.forEach(s=>{let n=s.getAttribute("data-menu-link");s.addEventListener("mouseenter",()=>{let a=Array.from(e).find(l=>l.getAttribute("data-menu-video")===n);if(a){let l=a.querySelector("video");if(t){t.style.opacity="0";let c=t.querySelector("video");c&&c.pause()}a.style.opacity="1",l&&l.play().catch(c=>console.log("Video play error:",c)),t=a}})}),this.menuList.addEventListener("mouseleave",()=>{if(t){t.style.opacity="0";let s=t.querySelector("video");s&&s.pause(),t=null}})}handleScroll(){let e=document.querySelector(".nav_logo_wrap");window.addEventListener("scroll",()=>{window.scrollY>window.innerHeight*.9?e.classList.add("is-normal"):e.classList.remove("is-normal")})}};var d=class{constructor(){this.videoHolder=document.querySelector(".hero_primary_video_holder"),this.widthDown()}scaleDown(){if(!gsap||!ScrollTrigger||!this.videoHolder)return;gsap.to(this.videoHolder,{scale:()=>document.querySelector(".grid4").clientWidth/document.querySelector(".hero_primary_contain").clientWidth,y:()=>o()?.5*window.innerHeight+this.videoHolder.clientHeight*.05:.5*window.innerHeight,top:130,left:o()?8:20,immediateRender:!1,ease:"none",scrollTrigger:{trigger:this.videoHolder,start:o()?"top top+=12":"top top+=20",end:"bottom top",invalidateOnRefresh:!0,scrub:!0}});let e=this.videoHolder.querySelector("video");gsap.to(e,{scale:1.6,ease:"none",scrollTrigger:{trigger:this.videoHolder,start:o()?"top top+=12":"top top+=20",end:"bottom top",invalidateOnRefresh:!0,scrub:!0}})}widthDown(){!gsap||!ScrollTrigger||!this.videoHolder||gsap.to(this.videoHolder,{width:()=>document.querySelector(".grid4").clientWidth,height:()=>document.querySelector(".grid4").clientWidth,y:()=>o()?window.innerHeight+.564*document.querySelector(".grid4").clientWidth:window.innerHeight+180-document.querySelector(".grid4").clientWidth*.6,top:180,left:o()?8:20,immediateRender:!1,ease:"none",scrollTrigger:{trigger:this.videoHolder,start:o()?"top top+=12":"top top+=20",end:"bottom top",invalidateOnRefresh:!0,scrub:!0}})}};var m=class{constructor(){this.imageHolder=document.querySelectorAll(".real_image_holder")}};var p=class{constructor(){this.wrap=document.querySelector(".services_wrap"),this.imageWrap=this.wrap?.querySelector(".services_image_wrap"),!(!this.wrap||!this.imageWrap)&&(this.imgScaleUp(),this.itemsEntry())}imgScaleUp(){let e=this.imageWrap.querySelectorAll("img"),i=this.wrap.querySelectorAll(".services_items_item");gsap.set([e[1],e[2]],{scale:0,rotate:t=>t===0?-3:3}),i.forEach((t,s)=>{gsap.to(e[s],{scale:1.2,rotate:0,ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"bottom 40%",scrub:!0}})})}itemsEntry(){this.wrap.querySelectorAll(".services_items_item").forEach(e=>{gsap.from(e,{opacity:0,scrollTrigger:{trigger:e,start:"top bottom",end:"top 70%",toggleActions:"play none none reset"}})})}};var g=class{constructor(e){this.rootElement=e||document,this.hoverElements=this.rootElement.querySelectorAll("[data-video-on-hover]"),this.init()}init(){this.hoverElements.forEach(e=>{let i=e.querySelector("video");i.getAttribute("src")!==""&&e.addEventListener("mouseenter",()=>{i.setAttribute("data-video-on-hover","active"),i.play()}),e.addEventListener("mouseleave",()=>{i.setAttribute("data-video-on-hover","inactive"),setTimeout(()=>{i.pause()},200)})})}};var y=class{constructor(){this.marquee=document.querySelector("[data-marquee='wrap']"),this.marquee&&(this.marqueeInner=this.marquee.querySelector("[data-marquee='list']"),this.animation=null,this.gap=parseFloat(getComputedStyle(this.marquee).gap)||0,this.direction=this.marquee.getAttribute("data-marquee-direction")||"left",this.duration=parseFloat(this.marquee.getAttribute("data-marquee-duration"))||2,this.updateDimensions(),this.setup(),this.animate(),this.resizeObserve=new ResizeObserver(this.handleResize.bind(this)),this.resizeObserve.observe(this.marquee))}updateDimensions(){this.marqueeWidth=this.marquee.offsetWidth,this.marqueeInnerWidth=this.marqueeInner.offsetWidth}setup(){let e=Math.ceil(this.marqueeWidth/this.marqueeInnerWidth);this.wrapper&&this.wrapper.remove(),this.wrapper=document.createElement("div"),this.wrapper.style.display="flex",this.wrapper.style.gap=`${this.gap}px`,this.wrapper.setAttribute("aria-label","List of elements in marquee"),this.direction==="right"&&(this.wrapper.style.flexDirection="row-reverse"),this.marqueeInner.parentElement!==this.wrapper&&(this.marqueeInner.remove(),this.wrapper.appendChild(this.marqueeInner));for(let i=0;i<e;i++){let t=this.marqueeInner.cloneNode(!0);this.wrapper.appendChild(t)}this.marquee.appendChild(this.wrapper)}animate(){let e=this.marqueeInnerWidth+this.gap,i=this.direction==="left"?-1:1;this.animation=gsap.to(this.wrapper,{x:i*e,repeat:-1,duration:this.duration,ease:"none",onRepeat:()=>{gsap.set(this.wrapper,{x:0})}})}handleResize(){this.updateDimensions(),this.animation&&this.animation.kill(),this.setup(),this.animate()}};var v=class{constructor(){this.element=document.querySelector(".contact_time"),this.element&&(this.updateTime(),this.start())}formatTime(e){return e.toLocaleTimeString("en-AU",{timeZone:"Australia/Sydney",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}updateTime(){let e=new Date;this.element.textContent=this.formatTime(e)+" [SYDNEY]"}start(){this.interval=setInterval(()=>this.updateTime(),1e3)}stop(){clearInterval(this.interval)}};function S(){window.lenis=new window.Lenis;function r(e){window.lenis.raf(e),requestAnimationFrame(r)}return requestAnimationFrame(r),window.lenis}function q(){document.addEventListener("contextmenu",function(r){let e=r.target.tagName.toLowerCase();(e==="img"||e==="video")&&r.preventDefault()}),document.addEventListener("dragstart",function(r){r.target.tagName.toLowerCase()==="img"&&r.preventDefault()})}var w=class{constructor(){this.nav=null,this.heroScale=null,this.realStory=null,this.services=null,this.videoHover=null,this.marquee=null,this.timeAU=null}init(){S(),q(),this.textAnimations=new h,this.nav=new u,this.videoHover=new g,this.heroScale=new d,this.realStory=new m,this.services=new p,this.marquee=new y,this.timeAU=new v}start(){document.fonts.ready.then(()=>{this.init()})}};window.addEventListener("DOMContentLoaded",()=>{new w().start()});})();
